(this.webpackJsonpnote=this.webpackJsonpnote||[]).push([[0],{12:function(e,t,n){e.exports={container:"Sheet_container__tDcUl",bar:"Sheet_bar__18Oiv",chord:"Sheet_chord__94HjD",currentPosition:"Sheet_currentPosition__2u0r5"}},22:function(e,t,n){},23:function(e,t,n){},25:function(e,t,n){"use strict";n.r(t);var r,i,o,a=n(6),s=n(17),c=n.n(s),h=(n(22),n(23),n(7)),u=n(1),d=n(3),l=n(2),f=n(26),v=n(14),b=n(13);!function(e){e.None="none",e.Rare="rare",e.Medium="medium",e.WellDone="well done",e.Insane="insane"}(r||(r={})),function(e){e.CheckBox="checkbox",e.Select="select",e.NumberDropdown="numberDropdown"}(i||(i={})),function(e){e.ConfigValueSetting="ConfigValueSetting",e.NumberArraySetting="NumberArraySetting",e.NumberSetting="NumberSetting",e.BooleanSetting="BooleanSetting"}(o||(o={}));var j=function(){function e(t,n,r){Object(u.a)(this,e),this.type=void 0,this.onSettingChanged=new f.a,this._value=void 0,this.name=void 0,this._value=t,this.type=n,this.name=r}return Object(l.a)(e,[{key:"value",get:function(){return this._value},set:function(e){this._value=e,console.log("value set",e),this.onSettingChanged.next(e)}}]),e}(),m=function(e){Object(v.a)(n,e);var t=Object(b.a)(n);function n(e,r,i,a){var s;return Object(u.a)(this,n),(s=t.call(this,e,o.NumberSetting,a)).min=void 0,s.max=void 0,s.value=e,s.min=r,s.max=i,s}return n}(j),g=function(e){Object(v.a)(n,e);var t=Object(b.a)(n);function n(e,r){return Object(u.a)(this,n),t.call(this,e,o.ConfigValueSetting,r)}return n}(j),p=function(e){Object(v.a)(n,e);var t=Object(b.a)(n);function n(e,r){return Object(u.a)(this,n),t.call(this,e,o.BooleanSetting,r)}return n}(j),O=function(e){Object(v.a)(n,e);var t=Object(b.a)(n);function n(e,r){return Object(u.a)(this,n),t.call(this,e,o.NumberArraySetting,r)}return n}(j);function C(e,t){return Math.floor(Math.random()*(t-e+1)+e)}function y(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];t||(t=[]);var n=e.filter((function(e){return!t.includes(e)}));return n[Math.floor(Math.random()*n.length)]}function w(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=C(0,100);return!(e===r.None||!t)&&(e===r.Rare?n>80:e===r.Medium?n>60:e===r.WellDone?n>40:e===r.Insane?n>20:void 0)}function M(e,t){var n=t.indexOf(e);return[].concat(Object(d.a)(t.slice(n)),Object(d.a)(t.slice(0,n)))}function P(e,t){t||(t=e,e=0);for(var n=[],r=e;r<t;r++)n.push(r);return n}var x,_=function(){function e(){Object(u.a)(this,e)}return Object(l.a)(e,null,[{key:"doesBarChordsFullfillAllConditions",value:function(e,t){return!(t.AlwaysHaveChordOnFirstQuarter&&!e.every((function(e){return e[0]})))&&!e.some((function(e){return e.length>t.MaxChordsPerBar.value}))}},{key:"mapChordsToBars",value:function(e,t){for(var n=this,r=0;r<1e4;r++){var i=this.divideChordsToBars(e,t).map((function(e){return n.fillChordsWithNull(e,t.MaxChordsPerBar.value)}));if(this.doesBarChordsFullfillAllConditions(i,t)){var o=i.map((function(e){return new S(e,t)}));return console.log("Found bar division after "+r+" iterations.",o),o}}return console.error("Could not find chords! 10000 iterations too less?",{chordProgression:e,config:t}),[]}},{key:"divideChordsToBars",value:function(e,t){for(var n=e.chords.slice(),r=[],i=0;i<t.HowManyBars.value;i++){var o=C(t.MinChordsPerBar.value,t.MaxChordsPerBar.value),a=n.slice(0,o);r.push(a),n=n.slice(o,n.length)}return r}},{key:"fillChordsWithNull",value:function(e,t){for(var n=e.slice();n.length<t;){var r=C(0,n.length);n=[].concat(Object(d.a)(n.slice(0,r)),[null],Object(d.a)(n.slice(r,n.length)))}return n}}]),e}(),S=function e(t,n){Object(u.a)(this,e),this.chords=void 0,this.chords=t},N=n(4);!function(e){e.JazzyProgressionness="JazzyProgressionness",e.CircleOfFifthMaxCloseness="CircleOfFifthMaxCloseness",e.UseAlwaysMajorThirdOnStep3="UseAlwaysMajorThirdOnStep3",e.ChordComplexity="",e.KeyChange="KeyChange",e.DoNotUseSteps="DoNotUseSteps",e.EndWith6Or1="EndWith6Or1",e.MaxChordsPerBar="MaxChordsPerBar",e.MinChordsPerBar="MinChordsPerBar",e.HowManyBars="HowManyBars",e.AlwaysHaveChordOnFirstQuarter="AlwaysHaveChordOnFirstQuarter",e.RhythmCrzyness="RhythmCrzyness",e.EmptyBars="EmptyBars"}(x||(x={}));var B,T=function(){function e(){Object(u.a)(this,e),this.JazzyProgressionness=new g(r.Medium,x.JazzyProgressionness),this.CircleOfFifthMaxCloseness=new m(3,1,6,x.CircleOfFifthMaxCloseness),this.UseAlwaysMajorThirdOnStep3=new p(!0,x.JazzyProgressionness),this.ChordComplexity=new g(r.Medium,x.ChordComplexity),this.KeyChange=new p(!0,x.KeyChange),this.DoNotUseSteps=new O([],x.DoNotUseSteps),this.EndWith6Or1=new p(!0,x.EndWith6Or1),this.MaxChordsPerBar=new m(2,1,8,x.MaxChordsPerBar),this.MinChordsPerBar=new m(1,0,4,x.MinChordsPerBar),this.HowManyBars=new m(4,1,20,x.HowManyBars),this.AlwaysHaveChordOnFirstQuarter=new p(!0,x.AlwaysHaveChordOnFirstQuarter),this.RhythmCrzyness=new g(r.Medium,x.RhythmCrzyness),this.EmptyBars=new g(r.None,x.EmptyBars)}return Object(l.a)(e,[{key:"entries",get:function(){return Object.entries(this)}}]),e}(),F=function e(){var t=this;Object(u.a)(this,e),this.config=new T,this.onChange=new f.a;var n,r=Object(N.a)(this.config.entries);try{var i=function(){var e=Object(h.a)(n.value,2)[1];e.onSettingChanged.subscribe((function(){console.log("config changed",e),t.onChange.next(null)}))};for(r.s();!(n=r.n()).done;)i()}catch(o){r.e(o)}finally{r.f()}},k=function(){function e(t,n){Object(u.a)(this,e),this.id=void 0,this.flat=void 0,this.sharp=void 0,this.id=t,this.flat=t,this.sharp=null!==n&&void 0!==n?n:t}return Object(l.a)(e,[{key:"render",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B.Sharp;return e===B.Sharp?this.sharp:this.flat}}]),e}();!function(e){e.Flat="flat",e.Sharp="sharp"}(B||(B={}));var U=function(){function e(){Object(u.a)(this,e)}return Object(l.a)(e,null,[{key:"Random",get:function(){return I[C(0,11)]}},{key:"scaleType",value:function(t){return[e.C,e.F,e.Bb,e.Eb,e.Ab,e.Db,e.Gb].includes(t)?B.Flat:B.Sharp}}]),e}();U.C=new k("C"),U.Db=new k("Db","C#"),U.D=new k("D"),U.Eb=new k("Eb","D#"),U.E=new k("E"),U.F=new k("F"),U.Gb=new k("Gb","F#"),U.G=new k("G"),U.Ab=new k("Ab","G#"),U.A=new k("A"),U.Bb=new k("Bb","A#"),U.B=new k("B");var I=Object.values(U),A=function e(t,n,r){Object(u.a)(this,e),this.id=void 0,this.name=void 0,this.steps=void 0,this.standardSymbol=void 0,this.name=t,this.id=t,this.steps=n,this.standardSymbol=r},R=function e(){Object(u.a)(this,e)};R.PerfectUnison=new A("unison",0,"root"),R.MinorSecond=new A("minorSecond",1,"b9"),R.MajorSecond=new A("majorSecond",2,"9"),R.MinorThird=new A("minorThird",3,"b3"),R.MajorThird=new A("majorThird",4,"3"),R.PerfectForth=new A("perfectForth",5,"11"),R.Tritone=new A("tritone",6,"b5"),R.PerfectFifth=new A("perfectFifth",7,"5"),R.MinorSixth=new A("minorSixth",8,"b13"),R.MajorSixth=new A("majorSixth",9,"13"),R.MinorSeventh=new A("minorSeventh",10,"7"),R.MajorSeventh=new A("majorSeventh",11,"\u0394");var D=Object.values(R),z=function e(t,n,r){Object(u.a)(this,e),this.id=void 0,this.intervals=void 0,this.standardSymbol=void 0,this.id=t,this.intervals=n,this.standardSymbol=r},E=function e(){Object(u.a)(this,e)};E.PerfectUnison=new z("unison",[R.PerfectUnison],"unison"),E.Minor=new z("minor",[R.PerfectUnison,R.MinorThird,R.PerfectFifth],"_"),E.Major=new z("major",[R.PerfectUnison,R.MajorThird,R.PerfectFifth],""),E.Major7=new z("\u03947",[R.PerfectUnison,R.MajorThird,R.PerfectFifth,R.MajorSeventh],"\u03947"),E.Chord7=new z("7",[R.PerfectUnison,R.MajorThird,R.PerfectFifth,R.MinorSeventh],"7"),E.Minor7=new z("_7",[R.PerfectUnison,R.MinorThird,R.PerfectFifth,R.MinorSeventh],"_7"),E.Minor7b5=new z("_7b5",[R.PerfectUnison,R.MinorThird,R.MinorSeventh,R.Tritone],"_7b5"),E.Chord7b9=new z("7b9",[R.PerfectUnison,R.MajorThird,R.PerfectFifth,R.MinorSeventh,R.MinorSecond],"7b9"),E.Chord7Sharp5=new z("7#5",[R.PerfectUnison,R.MajorThird,R.MinorSixth,R.MinorSeventh],"7#5"),E.Chord7Sharp11=new z("7#11",[R.PerfectUnison,R.MajorThird,R.Tritone,R.PerfectFifth,R.MinorSeventh],"7#11"),E.PowerChord=new z("5",[R.PerfectUnison,R.PerfectFifth],"5"),E.MajorB13=new z("\u0394#5",[R.PerfectUnison,R.MajorThird,R.MinorSixth,R.MajorSeventh],"\u0394#5"),E.Dim7=new z("\xb07",[R.PerfectUnison,R.MinorThird,R.Tritone,R.MajorSixth],"\xb07"),E.b9b13=new z("#5b9",[R.PerfectUnison,R.MinorSecond,R.MajorThird,R.MinorSixth],"#5b9"),E.MinorMajor7=new z("_\u0394",[R.PerfectUnison,R.MinorThird,R.PerfectFifth,R.MajorSeventh],"_\u0394"),E.Minor6=new z("_6",[R.PerfectUnison,R.MinorThird,R.PerfectFifth,R.MajorSixth],"_6"),E.Major6=new z("6",[R.PerfectUnison,R.MajorThird,R.PerfectFifth,R.MajorSixth],"6"),E.Minorb6=new z("_b6",[R.PerfectUnison,R.MinorThird,R.PerfectFifth,R.MinorSixth],"_b6"),E.Majorb6=new z("b6",[R.PerfectUnison,R.MajorThird,R.PerfectFifth,R.MinorSixth],"b6"),E.Minor9=new z("_9",[R.PerfectUnison,R.MinorThird,R.PerfectFifth,R.MajorSecond],"_9"),E.Major9=new z("9",[R.PerfectUnison,R.MajorThird,R.PerfectFifth,R.MajorSecond],"9"),E.Minorb9=new z("_b9",[R.PerfectUnison,R.MinorThird,R.PerfectFifth,R.MinorSecond],"_b9"),E.Majorb9=new z("b9",[R.PerfectUnison,R.MajorThird,R.PerfectFifth,R.MinorSecond],"b9"),E.Sus4=new z("7sus4",[R.PerfectUnison,R.PerfectForth,R.PerfectFifth,R.MinorSeventh],"sus4"),E.NineSus4=new z("79sus4",[R.PerfectUnison,R.PerfectForth,R.PerfectFifth,R.MinorSeventh,R.MajorSecond],"79sus4"),E.Major7b6=new z("7b13",[R.PerfectUnison,R.PerfectForth,R.PerfectFifth,R.MinorSeventh,R.MinorSixth],"7b13");var H=Object.values(E),J=function(){function e(t,n,r){Object(u.a)(this,e),this.id=void 0,this.name=void 0,this.chord=void 0,this.rootNote=void 0,this.notes=void 0,this.presentInScales=[],this.context=void 0,this.rootNote=t,this.chord=n,this.name=t.flat+n.id,this.id=t.id+n.id,r&&(this.id=this.id+" context:"+(null===r||void 0===r?void 0:r.id)),this.notes=e.calculateNotesForChord(t,n),this.context=r}return Object(l.a)(e,[{key:"step",get:function(){return this.context?this.context.notes.indexOf(this.rootNote):""}},{key:"render",get:function(){var e;return this.context?this.rootNote.render(null===(e=this.context)||void 0===e?void 0:e.scaleType)+this.chord.standardSymbol:this.rootNote.flat+this.chord.standardSymbol}},{key:"withContext",value:function(t){return new e(this.rootNote,this.chord,t)}}],[{key:"calculateNotesForChord",value:function(e,t){var n=I.indexOf(e),r=[].concat(Object(d.a)(I.slice(n)),Object(d.a)(I.slice(0,n)));return t.intervals.map((function(e){return r[e.steps]}))}}]),e}();var K=function e(t,n,r){Object(u.a)(this,e),this.chords=void 0,this.chordsCount=void 0,this.counter_251=void 0,this.twoFiveOnes=void 0,this.chords=t,this.chordsCount=t.length,this.counter_251=n,this.twoFiveOnes=r},L=function(){function e(){Object(u.a)(this,e)}return Object(l.a)(e,null,[{key:"createChordProgression",value:function(e,t){for(var n,r=e.scale,i=[],o=[],a=t.HowManyBars.value,s=0,c=C(a,t.MaxChordsPerBar.value*a);i.length<c;){if(w(t.JazzyProgressionness.value,c>=3)){var h=[];C(0,1)?(h=[r.getStepTetrad(2),r.getStepTetrad(5),r.getStepTetrad(1)],n=r.getStepTetrad(1)):(h=[r.getStepTetrad(7),r.getStepTetrad(3),r.getStepTetrad(6)],n=r.getStepTetrad(6)),i.push(h[0]),i.push(h[1]),i.push(h[2]),console.log("added 2 5 1 !"),s+=1,o.push(h)}var u=r.getRandomTetrad(n);3===u.step&&t.UseAlwaysMajorThirdOnStep3.value&&(u=new J(u.rootNote,E.Chord7)),n=u,i.push(u)}return console.log("Random chord progression created",i),new K(i,s,o)}}]),e}(),W=function e(t,n,r){Object(u.a)(this,e),this.id=void 0,this.name=void 0,this.steps=void 0,this.modes=void 0,this.intervals=void 0,this.id=t,this.name=t,this.steps=n,this.modes=null!==r&&void 0!==r?r:null;var i,o=[],a=0,s=Object(N.a)(n);try{for(s.s();!(i=s.n()).done;){var c=i.value;D[a=c+a]&&o.push(D[a])}}catch(h){s.e(h)}finally{s.f()}this.intervals=[R.PerfectUnison].concat(o)},Q=function(){function e(){Object(u.a)(this,e)}return Object(l.a)(e,null,[{key:"Random",get:function(){return y(V)}}]),e}();Q.Major=new W("major",[2,2,1,2,2,2,1],["ionisch (dur)","dorisch","phrygisch","lydisch","mixolydisch","aeolisch (moll)","lokrisch"]),Q.HarmonicMinor=new W("harmonic minor",[2,1,2,2,1,3,1],["harmonic minor mode","Locrian 13 or Locrian 6 (half-diminished)","Ionian #5 (augmented)","Dorian #11 (or dorian #4) (minor)","Phrygian dominant (dominant)","Lydian #2 (major)","Super locrian bb7 (diminished)"]),Q.MelodicMinor=new W("melodic minor",[2,1,2,2,2,2,1],["melodic minor mode","dorisch b9","lydisch augmented","lydisch dominant / mixo #11","mixolydisch b13","aeolisch b5 (lokrisch #2)","alterierte skala (super lokrisch)"]),Q.Chromatic=new W("chromatic",[1,1,1,1,1,1,1,1,1,1,1,1]),Q.MinorPentatonic=new W("minor pentatonic",[3,2,2,3,2]),Q.MajorPentatonic=new W("major pentatonic",[2,2,3,2,3]),Q.MinorPentatonicBlues=new W("minor blues pentatonic",[3,2,1,1,3,2]),Q.MajorPentatonicBlues=new W("major blues pentatonic",[2,1,1,3,2,3]),Q.BluesRocknRoll=new W("blues rock n roll",[2,1,1,1,1,1,2,1,2]),Q.BBKingBlues=new W("B.B. King blues",[3,3,1,1,2]);var G,V=Object.values(Q);!function(e){e.Up="up",e.Down="down"}(G||(G={}));var q=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:G.Up;Object(u.a)(this,e),this.root=void 0,this.target=void 0,this.interval=void 0,this.direction=void 0,this.root=t,this.target=n,this.direction=r,this.interval=e.intervalBetweenNotes(t,n,r)}return Object(l.a)(e,null,[{key:"intervalBetweenNotes",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:G.Up,r=I.indexOf(e),i=I.indexOf(t);return r===i?R.PerfectUnison:n===G.Up?i>r?D[i-r]:D[12-r+i]:i>r?D[r+(12-i)]:D[r-i]}},{key:"calculateInterval",value:function(e,t){var n=I.indexOf(e);return[].concat(Object(d.a)(I.slice(n)),Object(d.a)(I.slice(0,n)))[t.steps]}}]),e}(),X=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U.Random,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Q.Major,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;Object(u.a)(this,e),this.rootNote=void 0,this.scale=void 0,this.mode=void 0,this.notes=void 0,this.name=void 0,this.id=void 0,this.scaleType=void 0,this.tetrads=void 0,this.scale=n,this.rootNote=t,this.mode=r,this.id=t.id+" "+n.id+" mode: "+r,this.name=t.id+" "+(n.modes?n.modes[r]:n.id),this.scaleType=U.scaleType(t),this.notes=this.calculateScaleNotes(t,n,r),this.tetrads=this.addTetrads(this.notes),r&&null===n.modes&&console.error("Mode not present in scale",{rootNote:t,scale:n,mode:r})}return Object(l.a)(e,[{key:"rootNoteName",get:function(){return this.rootNote.render(this.scaleType)}},{key:"calculateScaleNotes",value:function(e,t,n){var r=M(e,I);return t.intervals.map((function(e){return r[e.steps]}))}},{key:"addTetrads",value:function(e){var t,n=this,r=[],i=Object(N.a)(e);try{var o=function(){var i,o=t.value,a=M(o,e).filter((function(e,t){return 0===t||2===t||4===t||6===t})).map((function(e){return q.intervalBetweenNotes(o,e)})),s=void 0,c=Object(N.a)(H);try{var h=function(){var e=i.value;if(a.every((function(t){return e.intervals.includes(t)})))return s=e,"break"};for(c.s();!(i=c.n()).done;){if("break"===h())break}}catch(d){c.e(d)}finally{c.f()}if(s){var u=new J(o,s,n);r.push(u)}else console.error("Tetrad not found",{this:n,note:o,scaleNotes:e,chordIntervals:a})};for(i.s();!(t=i.n()).done;)o()}catch(a){i.e(a)}finally{i.f()}return r}},{key:"RandomNote",get:function(){return y(this.notes)}},{key:"RandomTetrad",get:function(){return y(this.tetrads)}},{key:"getRandomTetrad",value:function(e){return y(this.tetrads,[e])}},{key:"FifthJump",get:function(){return new e(q.calculateInterval(this.rootNote,R.PerfectFifth),this.scale)}},{key:"FourthJump",get:function(){return new e(q.calculateInterval(this.rootNote,R.PerfectForth),this.scale)}},{key:"getStepTetrad",value:function(e){return e>7||e<0?(console.error("Warning, cant geht this step tetrad",{step:e,scale:this}),this.tetrads[0]):this.tetrads[e-1]}},{key:"getCloseCircleOfFifthsScale",value:function(e){for(var t=C(1,e),n=C(0,100)<50,r=this,i=0;i<t;i++)r=n?r.FifthJump:r.FourthJump;return r}},{key:"RandomProgression",get:function(){for(var e,t=[],n=0;n<4;n++){var r=[];t.push(r);for(var i=0;i<2;i++){if(C(0,100)<50&&0!==i)r.push(null);else{var o=y(this.tetrads,[e]);r.push(o),e=o}}}return t}}]),e}();var Y,Z=function(){function e(t,n){var r=this;Object(u.a)(this,e),this.scale=void 0,this.bars=void 0,this.chordProgression=void 0,this.onChange=new f.a,this.index=void 0,this.lastPart=void 0,this.subscribableConfig=new F,this.index=n,this.lastPart=t,this.subscribableConfig.onChange.subscribe((function(){r.init(),r.onChange.next(r)})),t&&t.onChange.subscribe((function(){r.init(),r.onChange.next(null)}));var i=this.subscribableConfig.config;this.scale=new X(U.Random,Q.Major),this.chordProgression=L.createChordProgression(this,i),this.bars=_.mapChordsToBars(this.chordProgression,i),this.init()}return Object(l.a)(e,[{key:"init",value:function(){var e=this.subscribableConfig.config,t=this.lastPart;t&&!1===e.KeyChange.value?this.scale=t.scale:this.scale=t?t.scale.getCloseCircleOfFifthsScale(e.CircleOfFifthMaxCloseness.value):new X(U.Random,Q.Major),this.chordProgression=L.createChordProgression(this,e),this.bars=_.mapChordsToBars(this.chordProgression,e),this.onChange.next(0)}}]),e}();!function(e){e[e.A=0]="A",e[e.B=1]="B",e[e.C=2]="C",e[e.D=3]="D",e[e.E=4]="E",e[e.F=5]="F"}(Y||(Y={}));var $=function(){function e(){Object(u.a)(this,e),this.onChange=new f.a,this.parts=[],this.partOrder=void 0,this.addPart(),this.addPart(),this.addPart(),this.partOrder=[Y.A,Y.A,Y.B,Y.C]}return Object(l.a)(e,[{key:"partsInOrder",get:function(){var e=this;return this.partOrder.map((function(t){return e.parts[t]}))}},{key:"rebuildParts",value:function(){this.parts.forEach((function(e){return e.init()})),this.onChange.next(0)}},{key:"randomPartsOrder",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8,t=[],n=0;n<e;n++)t.push(C(0,2));this.partOrder=t,this.rebuildParts()}},{key:"setPartOrder",value:function(e){this.partOrder=e,this.onChange.next(0)}},{key:"addPart",value:function(){var e=new Z(this.parts[this.parts.length-1],this.parts.length);this.parts=[].concat(Object(d.a)(this.parts),[e]),e.onChange.subscribe(this.onChange)}},{key:"removePart",value:function(e){this.parts=this.parts.filter((function(t){return e!==t}))}}]),e}(),ee=new function e(){Object(u.a)(this,e),this.tune=new $,console.log(this.tune)};function te(e){var t=Object(a.useState)(0),n=Object(h.a)(t,2),r=n[0],i=n[1];return Object(a.useEffect)((function(){if(e){var t=e.onChange.subscribe((function(){i(r+1)}));return function(){return t.unsubscribe()}}}),[e,r,i]),r}var ne=n(5),re=n.n(ne),ie=n(0);function oe(e){var t=e.part,n=t.subscribableConfig.config;return te(t),te(t.subscribableConfig),Object(ie.jsxs)("div",{className:re.a.container,children:[Object(ie.jsx)("button",{onClick:function(e){return t.init()},children:"Rebuild"}),n.entries.map((function(e){var n,i=Object(h.a)(e,2),a=i[0],s=i[1];return 0===t.index&&s.name===x.CircleOfFifthMaxCloseness||0===t.index&&s.name===x.KeyChange?null:Object(ie.jsxs)("div",{className:re.a.setting,children:[Object(ie.jsx)("div",{className:re.a.name,children:(n=a,n.split("").map((function(e,t){return e.toUpperCase()===e?"".concat(0!==t?"-":"").concat(e.toLowerCase()):e})).join("")).replaceAll("-"," ")}),Object(ie.jsxs)("div",{className:re.a.input,children:[s.type===o.BooleanSetting&&Object(ie.jsx)("input",{type:"checkbox",checked:s.value,onChange:function(e){s.value=e.target.checked}}),s.type===o.ConfigValueSetting&&Object(ie.jsx)("select",{onChange:function(e){return s.value=e.target.value},value:s.value,children:Object.values(r).map((function(e){return Object(ie.jsx)("option",{children:e},e)}))}),s.type===o.NumberSetting&&Object(ie.jsx)("select",{onChange:function(e){return s.value=parseFloat(e.target.value)},value:s.value.toString(),children:P(s.min,s.max).map((function(e){return Object(ie.jsx)("option",{children:e},e.toString())}))})]}),Object(ie.jsx)("div",{className:re.a.info,children:s.name===x.JazzyProgressionness&&t.chordProgression.counter_251})]})})),Object(ie.jsx)("div",{className:re.a.resultName,children:"Result: "+t.scale.name}),Object(ie.jsx)("div",{className:re.a.result,children:t.bars.map((function(e){return Object(ie.jsx)("div",{className:re.a.bar,children:e.chords.map((function(e){return Object(ie.jsxs)("div",{className:re.a.chord,children:[e&&e.step+" - ",e&&e.render]})}))})}))})]})}function ae(e){return 60/e*1e3}var se=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:60,n=arguments.length>1?arguments[1]:void 0;Object(u.a)(this,e),this._renderCount=0,this._bpm=60,this._timeInterval=ae(this._bpm),this._runningInterval=void 0,this.onChange=new f.a,this._beforeNext=void 0,this._beforeNext=n,this.bpm=t,this._startInterval()}return Object(l.a)(e,[{key:"resetRenderCount",value:function(){this._renderCount=0}},{key:"stop",value:function(){this._runningInterval&&clearInterval(this._runningInterval)}},{key:"_rerender",value:function(){this._renderCount=this._renderCount+1,this.onChange.next(this._renderCount)}},{key:"bpm",get:function(){return this._bpm},set:function(e){this._bpm=e,this._timeInterval=ae(e),this._startInterval(),this._rerender()}},{key:"getPosition",value:function(e,t){for(var n=e*t,r=this._renderCount%n,i=0;i<n;){if(i===r||i<r&&i+t>r)return{bar:i/t,chordInBar:r-i,isLastOne:r===n-1};i+=t}}},{key:"_startInterval",value:function(){var e=this;this._runningInterval&&clearInterval(this._runningInterval),this._runningInterval=setInterval((function(){e._beforeNext(),e._rerender()}),this._timeInterval)}}]),e}(),ce=n(12),he=n.n(ce),ue=new se(40,(function(){}));function de(){te(ee.tune);var e=ee.tune;te(ue);var t=e.partsInOrder.map((function(e){return e.bars})).reduce((function(e,t){return e.concat(t)})),n=ue.getPosition(t.length,e.parts[0].subscribableConfig.config.MaxChordsPerBar.value);return console.log(n),Object(ie.jsx)("div",{className:he.a.container,children:t.map((function(e,t){return Object(ie.jsx)("div",{className:he.a.bar,children:e.chords.map((function(e,r){var i=n&&n.bar===t&&n.chordInBar===r;return Object(ie.jsxs)("div",{className:he.a.chord,children:[null===e||void 0===e?void 0:e.render,Object(ie.jsx)("div",{className:he.a.currentPosition,style:{display:i?"":"none"}})]})}))})}))})}var le=n(8),fe=n.n(le);function ve(e){var t=e.tune;return te(t),Object(ie.jsx)("div",{className:fe.a.container,children:t.partsInOrder.map((function(e,t){return Object(ie.jsxs)("div",{className:fe.a.part,children:["part: ",e.index," ",e.scale.rootNoteName,Object(ie.jsx)("div",{className:fe.a.bars,children:Object(ie.jsx)("div",{className:fe.a.bar,children:e.bars.map((function(e){return Object(ie.jsxs)("div",{className:fe.a.bar,children:["|",Object(ie.jsx)("div",{className:fe.a.chords,children:e.chords.map((function(e){return Object(ie.jsx)("div",{className:fe.a.chord,children:null===e||void 0===e?void 0:e.render})}))})]})}))})})]})}))})}var be=n(9),je=n.n(be);function me(){var e=Object(a.useState)(ee.tune.partOrder.toString().replaceAll(",","")),t=Object(h.a)(e,2),n=t[0],r=t[1];return te(ee.tune),Object(ie.jsxs)("div",{className:je.a.container,children:[Object(ie.jsxs)("div",{className:je.a.headBar,children:[Object(ie.jsx)("div",{className:je.a.order,children:"parts order:"}),Object(ie.jsx)("input",{type:"string",value:n,onChange:function(e){return r(e.target.value)},onBlur:function(e){var t=n.split("").map((function(e){return parseFloat(e)}));ee.tune.setPartOrder(t)}}),Object(ie.jsx)("button",{onClick:function(e){return ee.tune.randomPartsOrder()},children:"Random"}),ee.tune.partOrder.toString().replaceAll(",","")]}),Object(ie.jsxs)("div",{className:je.a.row,children:[Object(ie.jsx)("div",{className:je.a.parts,children:ee.tune.parts.map((function(e){return Object(ie.jsx)(oe,{part:e})}))}),Object(ie.jsxs)("div",{className:je.a.tune,children:[Object(ie.jsx)(ve,{tune:ee.tune}),Object(ie.jsx)(de,{})]})]})]})}var ge=function(){return Object(ie.jsx)("div",{className:"App",children:Object(ie.jsx)(me,{})})},pe=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,27)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,o=t.getLCP,a=t.getTTFB;n(e),r(e),i(e),o(e),a(e)}))};c.a.render(Object(ie.jsx)(ge,{}),document.getElementById("root")),pe()},5:function(e,t,n){e.exports={container:"PartConfig_container__qrcuB",setting:"PartConfig_setting__3aY73",name:"PartConfig_name__1o7ea",result:"PartConfig_result__1K1ij",bar:"PartConfig_bar__21CMQ",chord:"PartConfig_chord__1r-6b"}},8:function(e,t,n){e.exports={container:"Tune_container__2HqJH",part:"Tune_part__1UB1U",bar:"Tune_bar__381hH",chords:"Tune_chords__3IthB",chord:"Tune_chord__34Ys-"}},9:function(e,t,n){e.exports={container:"main_container__vs8-i",headBar:"main_headBar__2SXTL",order:"main_order__gAGBr",row:"main_row__2QUd-",parts:"main_parts__1d5LZ",tune:"main_tune__1TQXp"}}},[[25,1,2]]]);
//# sourceMappingURL=main.53ab24cf.chunk.js.map